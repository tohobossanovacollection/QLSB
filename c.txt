1. users (Bảng người dùng)
id (INT, Primary Key, Auto Increment)
username (VARCHAR)
password (VARCHAR)
full_name (VARCHAR)
email (VARCHAR)
phone (VARCHAR)
role (VARCHAR) // ADMIN, MANAGER, STAFF
branch_id (INT, Foreign Key to branches.id)
active (BOOLEAN)
last_login (DATETIME)
2. branches (Bảng chi nhánh)
id (INT, Primary Key, Auto Increment)
name (VARCHAR)
address (VARCHAR)
phone (VARCHAR)
manager_name (VARCHAR)
active (BOOLEAN)
3. pitches (Bảng sân bóng)
id (INT, Primary Key, Auto Increment)
name (VARCHAR)
type (VARCHAR) // 5 người, 7 người, 11 người
price_per_hour (DOUBLE)
description (TEXT)
branch_id (INT, Foreign Key to branches.id)
active (BOOLEAN)
4. customers (Bảng khách hàng)
id (INT, Primary Key, Auto Increment)
name (VARCHAR)
phone (VARCHAR)
email (VARCHAR)
address (VARCHAR)
customer_type (VARCHAR) // REGULAR, VIP, TEAM
total_spent (DOUBLE)
debt (DOUBLE)
created_at (DATETIME)
5. bookings (Bảng đặt sân)
id (INT, Primary Key, Auto Increment)
pitch_id (INT, Foreign Key to pitches.id)
customer_id (INT, Foreign Key to customers.id)
start_time (DATETIME)
end_time (DATETIME)
total_price (DOUBLE)
status (VARCHAR) // PENDING, CONFIRMED, CANCELLED, COMPLETED
is_periodic (BOOLEAN)
note (TEXT)
created_at (DATETIME)
6. monthly_bookings (Bảng đặt sân theo tháng)
id (INT, Primary Key, Auto Increment)
customer_id (INT, Foreign Key to customers.id)
pitch_id (INT, Foreign Key to pitches.id)
start_date (DATE)
end_date (DATE)
start_time (TIME)
end_time (TIME)
days_of_week (VARCHAR) // e.g., "MONDAY,WEDNESDAY,FRIDAY"
sessions_per_month (INT)
price_per_session (DOUBLE)
total_amount (DOUBLE)
discount (DOUBLE)
final_amount (DOUBLE)
status (VARCHAR) // ACTIVE, INACTIVE, COMPLETED
note (TEXT)
7. products (Bảng sản phẩm)
id (INT, Primary Key, Auto Increment)
name (VARCHAR)
category (VARCHAR)
buy_price (DOUBLE)
sell_price (DOUBLE)
current_stock (INT)
min_stock_level (INT)
unit (VARCHAR) // cái, chai, lon, ...
description (TEXT)
active (BOOLEAN)
8. invoices (Bảng hóa đơn)
id (INT, Primary Key, Auto Increment)
customer_id (INT, Foreign Key to customers.id)
pitch_id (INT, Foreign Key to pitches.id)
created_at (DATETIME)
type (VARCHAR) // BOOKING, PRODUCT
subtotal (DOUBLE)
discount (DOUBLE)
total (DOUBLE)
paid (DOUBLE)
debt (DOUBLE)
status (VARCHAR) // PAID, PARTIAL, UNPAID
note (TEXT)
9. invoice_items (Bảng chi tiết hóa đơn)
id (INT, Primary Key, Auto Increment)
invoice_id (INT, Foreign Key to invoices.id)
item_type (VARCHAR) // BOOKING, PRODUCT
item_id (INT) // ID của booking hoặc product
description (TEXT)
unit_price (DOUBLE)
quantity (INT)
total (DOUBLE)
10. transactions (Bảng giao dịch)
id (INT, Primary Key, Auto Increment)
type (VARCHAR) // INCOME, EXPENSE
category (VARCHAR) // BOOKING, PRODUCT_SALE, SALARY, MAINTENANCE, ...
amount (DOUBLE)
date (DATETIME)
description (TEXT)
related_id (INT) // ID của invoice hoặc expense
branch_id (INT, Foreign Key to branches.id)
Mối quan hệ giữa các bảng:
users liên kết với branches qua branch_id.
pitches liên kết với branches qua branch_id.
bookings liên kết với customers và pitches.
monthly_bookings liên kết với customers và pitches.
invoices liên kết với customers và pitches.
invoice_items liên kết với invoices.
transactions liên kết với branches.